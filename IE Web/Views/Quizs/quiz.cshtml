@model IEnumerable<IE_Web.Models.Quiz>

@{
    ViewBag.Title = "Quiz";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/css/quiz.css" rel="stylesheet" />
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">

<!--Pot Farming Banner Block-->
<div class="banner">
    <div class="quiz-banner-block"></div>
    <div class="banner-text-block">
        <h1 class="text-uppercase" style="font-size:30px;font-weight:bold">Test Your Knowledge</h1>
    </div>
</div>
<!--Pot Farming Banner Block-->

<div id="quizStart" class="container-fluid bg-info" style="height:580px">
    <div class="modal-dialog">
        <div class="modal-content" style="height:520px">
            <div class="modal-header">
                <div id="question">
                    <div id="question1">
                        <h3><span class="label label-warning" id="q2">1</span> In which bin can we dispose the baking paper?</h3>
                    </div>
                    <div id="question2" style="display:none">
                        <h3><span class="label label-warning" id="q2">2</span> Select the correct alternative for the plastic milk container mentioned on this site?</h3>
                    </div>
                    <div id="question3" style="display:none">
                        <h3><span class="label label-warning" id="q3">3</span> What vegetables can be grown in pots</h3>
                    </div>
                    <div id="question4" style="display:none">
                        <h3><span class="label label-warning" id="q4">4</span> How can you utilize your kitchen waste?</h3>
                    </div>
                    <div id="question5" style="display:none">
                        <h3><span class="label label-warning" id="q5">5</span> What are good ways to avoid food waste?</h3>
                    </div>
                    <div id="question6" style="display:none">
                        <h3><span class="label label-warning" id="q6">6</span> Plants have absorbed almost half of the carbon dioxide that is produced by humans over the last decade?"</h3>
                    </div>
                    <div id="question7" style="display:none">
                        <h3><span class="label label-warning" id="q7">7</span> Which of the following are carbon sinks?</h3>
                    </div>
                </div>
            </div>


            <div class="modal-body">

                <div class="quiz">
                    <div id="quiz1" data-toggle="buttons">
                        <label class="element-animation1 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>A. Cummingled recycling bin</label>
                        <label class="element-animation2 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=1>B. General waste bin</label>
                        <label class="element-animation3 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>C. Glass recycling bin</label>
                        <label class="element-animation4 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>D. Food and garden bin</label>
                    </div>

                    <div id="quiz2" data-toggle="buttons" style="display:none">
                        <label class="element-animation1 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>A. Plastic bottle</label>
                        <label class="element-animation2 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>B. Stainless steel bottle</label>
                        <label class="element-animation3 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=1>C. Glass bottle</label>
                        <label class="element-animation4 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>D. None of the above</label>
                    </div>

                    <div id="quiz3" data-toggle="buttons" style="display:none">
                        <label class="element-animation1 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>A. Tomatoes</label>
                        <label class="element-animation2 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>B. Garlic</label>
                        <label class="element-animation3 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>C. Coriander</label>
                        <label class="element-animation4 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=1>D. All of the above</label>
                    </div>

                    <div id="quiz4" data-toggle="buttons" style="display:none">
                        <label class="element-animation1 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=1>A. To create compost</label>
                        <label class="element-animation2 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>B. By using it in pot farming</label>
                        <label class="element-animation3 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>C. Thrown into the lake</label>
                        <label class="element-animation4 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>D. None of the above</label>
                    </div>

                    <div id="quiz5" data-toggle="buttons" style="display:none">
                        <label class="element-animation1 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>A. Avoid purchasing unnecessary food items</label>
                        <label class="element-animation2 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>B. Store food at correct temperatures</label>
                        <label class="element-animation3 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>C. Save leftover food</label>
                        <label class="element-animation4 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=1>D. All of the above</label>
                    </div>
                </div>

                <div id="quiz6" data-toggle="buttons" style="display:none">
                    <label class="element-animation1 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=1> True</label>
                    <label class="element-animation2 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0> False</label>
                </div>

                <div id="quiz7" data-toggle="buttons" style="display:none">
                    <label class="element-animation1 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>A. Soil and rocks</label>
                    <label class="element-animation2 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>B. Fossil fuels</label>
                    <label class="element-animation3 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=0>C. Forests</label>
                    <label class="element-animation4 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value=1>D. All of the above</label>
                </div>

                <div>
                    <div>
                        <div id="suggestion1" style="display:none">suggestion1</div>
                        <div id="suggestion2" style="display:none">suggestion2</div>
                        <div id="suggestion3" style="display:none">suggestion3</div>
                        <div id="suggestion4" style="display:none">suggestion4</div>
                    </div>

                    <div id="finish" class="btn-default" style="display:none">
                        @Html.ActionLink("a", "Quiz", new { grade = 1 });
                    </div>
                </div>
            </div>

            
            <div style="border-top-style: groove">
                <div style="margin-top:20px">
                    <div class="col-12 col-lg-6" style="float:left;margin-bottom:30px">
                        <a href="quiz" id="finishbtn" style="float:left;display:none"><span class="text-white btn btn-primary">Test Again</span></a>
                    </div>
                    <div class="col-12 col-lg-6" style="float:right;margin-bottom:30px">
                        <a id="review" style="float:right;display:none"><span class="text-white btn btn-primary">Review Answers</span></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        var i = 1;
        var grade = 0;
        var loading = $('#loadbar').hide();

        $("label.btn").on('click', function () {

            var nowQuestion = "#question" + i;
            var nowQuiz = "#quiz" + i;
            i++;
            var nextQuestion = "#question" + i;
            var nextQuiz = "#quiz" + i;

            var choice = $(this).find('input:radio').val();
            choice = parseInt(choice);
            grade += choice;
            ;
            $('#loadbar').show();
            $('#quiz').fadeOut();
            $(nowQuestion).hide();
            $(nowQuiz).hide();
            $(nextQuestion).show();
            $(nextQuiz).show();
            $('#quiz').fadeIn();

            if (i == 8) {
                console.log(grade)
                $('#quiz').hide();
                if (grade <= 3) {
                    $('#suggestion1').fadeIn();

                }
                else if (grade > 3 && grade <= 5) {
                    $('#suggestion2').fadeIn();
                }
                else if (grade > 5 && grade <= 7) {
                    $('#suggestion3').fadeIn();

                }
                else {
                    $('#suggestion4').fadeIn();

                }
                $('#finishbtn').fadeIn();
                $('#review').fadeIn();
                $('#page').hide();
                $('#finish').fadeIn();
            }
        });

        $ans = 3;

        $.fn.checking = function (ck) {
            if (ck != $ans)
                return 'INCORRECT';
            else
                return 'CORRECT';
        };
    });
</script>







<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.grade)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.count)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(model => item.grade)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.count)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.grade }) |
                @Html.ActionLink("Details", "Details", new { id = item.grade }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.grade })
            </td>
        </tr>
    }

</table>
